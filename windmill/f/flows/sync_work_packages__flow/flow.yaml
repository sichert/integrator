summary: >-
  Synchronize the work packages between the Openproject and the example Django
  project
description: >-
  This is a windmill flow this is being used for synchronize the work packages
  between the Openproject and the example Django project
value:
  modules:
    - id: existing_working_packages
      value:
        type: script
        input_transforms: {}
        is_trigger: false
        path: u/admin/get_existing_work_packages
    - id: openproject_projects_list
      value:
        type: flow
        input_transforms: {}
        path: f/flows/sync_projects
    - id: d
      value:
        type: forloopflow
        modules:
          - id: project_id
            value:
              type: rawscript
              content: '!inline inline_script_0.py'
              input_transforms:
                x:
                  type: javascript
                  expr: flow_input.iter.value
              lock: '!inline inline_script_0.lock'
              language: python3
          - id: c
            value:
              type: rawscript
              content: '!inline inline_script_1.py'
              input_transforms:
                x:
                  type: javascript
                  expr: flow_input.iter.value
              lock: '!inline inline_script_1.lock'
              language: python3
            continue_on_error: false
            retry:
              constant:
                attempts: 10
                seconds: 5
              exponential:
                attempts: 0
                multiplier: 1
                random_factor: null
                seconds: 0
          - id: dzw
            value:
              type: forloopflow
              modules:
                - id: dza
                  value:
                    type: rawscript
                    content: '!inline inline_script_2.py'
                    input_transforms:
                      project_id:
                        type: javascript
                        expr: results.project_id
                      x:
                        type: javascript
                        expr: flow_input.iter.value
                    lock: '!inline inline_script_2.lock'
                    language: python3
                  continue_on_error: false
                - id: dzz
                  value:
                    type: script
                    input_transforms:
                      action:
                        type: static
                        value: ''
                      existing_work_packages:
                        type: javascript
                        expr: results.existing_working_packages
                      work_package:
                        type: javascript
                        expr: results.dza
                    is_trigger: false
                    path: u/admin/synchronize_work_packages
                  continue_on_error: false
                  retry:
                    constant:
                      attempts: 5
                      seconds: 5
                    exponential:
                      attempts: 0
                      multiplier: 1
                      random_factor: null
                      seconds: 0
              iterator:
                type: javascript
                expr: results.c
              parallel: false
              skip_failures: true
              squash: false
        iterator:
          type: javascript
          expr: results.openproject_projects_list
        parallel: false
        skip_failures: true
        squash: false
    - id: dzx
      value:
        type: rawscript
        content: '!inline inline_script_3.py'
        input_transforms:
          x:
            type: javascript
            expr: results.d
        lock: '!inline inline_script_3.lock'
        language: python3
schema:
  $schema: 'https://json-schema.org/draft/2020-12/schema'
  type: object
  order: []
  properties: {}
  required: []
